import*as e from"dotenv";function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(null,arguments)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var n;!function(e){e.USER_EVENT="User Event",e.USER_FAILURE="User Failure",e.DATABASE_INFORMATION="Database Information",e.DATABASE_FAILURE="Database Failure",e.SYSTEM_INFORMATION="System Information",e.SYSTEM_FAILURE="System Failure",e.AUTOMATED_INFORMATION="Automated Information",e.AUTOMATED_FAILURE="Automated Failure",e.EXTERNAL_VENDOR_INFORMATION="External Vendor Information",e.EXTERNAL_VENDOR_FAILURE="External Vendor Failure"}(n||(n={}));var o=/*#__PURE__*/function(e){function o(t){return e.call(this,t)||this}var i,s;s=e,(i=o).prototype=Object.create(s.prototype),i.prototype.constructor=i,r(i,s);var a=o.prototype;return a.userEvent=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.USER_EVENT})))}catch(e){return Promise.reject(e)}},a.userFailure=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.USER_FAILURE})))}catch(e){return Promise.reject(e)}},a.databaseInformation=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.DATABASE_INFORMATION})))}catch(e){return Promise.reject(e)}},a.databaseFailure=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.DATABASE_FAILURE})))}catch(e){return Promise.reject(e)}},a.systemInformation=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.SYSTEM_INFORMATION})))}catch(e){return Promise.reject(e)}},a.systemFailure=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.SYSTEM_FAILURE})))}catch(e){return Promise.reject(e)}},a.automatedInformation=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.AUTOMATED_INFORMATION})))}catch(e){return Promise.reject(e)}},a.automatedFailure=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.AUTOMATED_FAILURE})))}catch(e){return Promise.reject(e)}},a.externalVendorInformation=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.EXTERNAL_VENDOR_INFORMATION})))}catch(e){return Promise.reject(e)}},a.externalVendorFailure=function(e){try{return Promise.resolve(this.sendEvent(t({},e,{logType:n.EXTERNAL_VENDOR_FAILURE})))}catch(e){return Promise.reject(e)}},a.customEvent=function(e){try{return Promise.resolve(this.sendEvent(e))}catch(e){return Promise.reject(e)}},o}(/*#__PURE__*/function(){function e(e){if(this.projectKey=void 0,this.url="https://fireblade.jensenlabs.dev/api/logs",this.projectKey=e||process.env.JENSEN_LABS_PROJECT_API_KEY||"",!this.projectKey)throw new Error("You must supply a project key for the Jensen Fireblade Client to work.")}return e.prototype.sendEvent=function(e){try{return Promise.resolve(fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.projectKey},body:JSON.stringify({content:e.title,description:e.description,eventMetadata:e.eventMetadata,eventType:n.USER_EVENT,timeElapsed:e.timeElapsed,userEmailInvoker:e.userEmailInvoker,userNameInvoker:e.userNameInvoker})})).then(function(e){if(!e.ok)throw console.error(e),new Error("Failed to send event to Jensen API")})}catch(e){return Promise.reject(e)}},e}());e.config();var i=/*#__PURE__*/function(){function e(){}return e.createClient=function(){return new o(process.env.JENSEN_LABS_PROJECT_API_KEY)},e}();export{i as default};
//# sourceMappingURL=index.esm.js.map
